<button (click)="goBack()">go back</button>
<div *ngIf="garage">
	<h1>{{garage.nomGarage}}</h1>
	<p>
		Adress : {{garage.adresseGarage}}, {{garage.cpGarage}}, {{garage.villeGarage}}
	</p>
	<p *ngIf="garage.telGarage">
		tel : {{garage.telGarage}}
	</p>
	<p *ngIf="garage.mailGarage">
		mail : {{garage.mailGarage}}
	</p>
	<p>
		Nombre de places : {{garage.nbVoitureMax}}
	</p>
	<button (click)="suppGarage()">Supprimer le garage</button>
	<button (click)="showEditGarageClick()">Modifier le garage</button>
	<div *ngIf="showEditGarage">
		<form (ngSubmit)="EditGarage()">
			<div class="form-group">
				<label for="Nom">Nom</label>
				<input [(ngModel)]="newGarage.nomGarage" type="text" class="form-control" name="Nom" id="Nom" required>
			</div>
			<div class="form-group">
				<label for="AdresseGarage">Adresse du garage</label>
				<input [(ngModel)]="newGarage.adresseGarage" type="text" class="form-control" name="AdresseGarage" id="AdresseGarage"
				 required>
			</div>
			<div class="form-group">
				<label for="Cp">Code postal</label>
				<input [(ngModel)]="newGarage.cpGarage" type="number" class="form-control" name="Cp" id="Cp" required>
			</div>
			<div class="form-group">
				<label for="Ville">Ville</label>
				<input [(ngModel)]="newGarage.villeGarage" type="text" class="form-control" name="Ville" id="Ville" required>
			</div>
			<div class="form-group">
				<label for="tel">Telephone</label>
				<input [(ngModel)]="newGarage.telGarage" type="tel" class="form-control" name="tel" id="tel">
			</div>
			<div class="form-group">
				<label for="Mail">Mail</label>
				<input [(ngModel)]="newGarage.mailGarage" type="text" class="form-control" name="Mail" id="Mail">
			</div>
			<div class="form-group">
				<label for="nbVoitureMax">Nombre de places</label>
				<input [(ngModel)]="newGarage.nbVoitureMax" type="number" class="form-control" name="nbVoitureMax" id="nbVoitureMax"
				 required>
			</div>
			<button type="submit">Valider</button>
		</form>
	</div>
</div>
<h1 *ngIf="!garage">Voitures sans garage</h1>
<div>
	<p>Voitures : </p>
	<div *ngIf="voitures">
		<div *ngIf="voitures.length === 0">Pas de voitures dans le garage</div>
		<ul>
			<li *ngFor="let voiture of voitures" [class.selected]="voiture === selectedVoiture" (click)="onSelect(voiture)">
				<p>{{voiture.nomMarque}} {{voiture.model}} - {{voiture.couleur}} -
					{{voiture.dateImmat}} -
					{{voiture.plaque}} - {{voiture.km}} Km - {{voiture.prix}}â‚¬</p>
			</li>
		</ul>
	</div>

</div>

<app-voiture-edit *ngIf="selectedVoiture" [voiture]="selectedVoiture" (changed)="ngOnInit()"></app-voiture-edit>